---
layout: post
title: mysql索引区别
date: 2022-09-15 09:53:08.000000000 +08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Mysql
tags: []
meta:
  _edit_last: '1'
  blocksy_post_meta_options: a:1:{s:17:"styles_descriptor";a:3:{s:6:"styles";a:3:{s:7:"desktop";s:0:"";s:6:"tablet";s:0:"";s:6:"mobile";s:0:"";}s:12:"google_fonts";a:0:{}s:7:"version";i:5;}}
author:
  login: gavin
  email: 519077334@qq.com
  display_name: gavin
  first_name: ''
  last_name: ''
permalink: "/index.php/2022/09/15/mysql%e7%b4%a2%e5%bc%95%e5%8c%ba%e5%88%ab/"
---
<p>区别：1、唯一索引的索引列值必须唯一，允许有空值；2、主键索引的索引值必须唯一，但不允许有空值；3、组合索引只有在查询条件中使用了创建索引时的第一个字段，索引才会被使用；4、全文索引仅可在使用了Myisam存储引擎的表中使用。</p>
<p>mysql索引类型：</p>
<p>主键索引：与唯一索引之间的区别就在于不允许有空值，创建主键时会自动创建此索引。</p>
<p>普通索引：最基本的索引，没有什么特殊的限制。</p>
<p>唯一索引：与普通索引之间的区别就在于索引列的值必须是唯一的，但是可以有空值。</p>
<p>全文索引：仅可在使用了Myisam存储引擎的表中使用，针对较大的数据列。</p>
<p>组合索引：指多个字段上创建的索引，只有在查询条件中使用了创建索引时的第一个字段，索引才会被使用。使用组合索引时遵循最左前缀集合</p>
<p>示例如下：</p>
<p><strong>1.普通索引</strong></p>
<p>是最基本的索引，它没有任何限制。它有以下几种创建方式：</p>
<p>（1）直接创建索引</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">CREATE</code> <code class="sql keyword">INDEX</code> <code class="sql plain">index_name </code><code class="sql keyword">ON</code> <code class="sql keyword">table</code><code class="sql plain">(</code><code class="sql keyword">column</code><code class="sql plain">(length))</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p>（2）修改表结构的方式添加索引</p>
<table class="syntaxhighlighter  sql " border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">ALTER</code> <code class="sql keyword">TABLE</code> <code class="sql plain">table_name </code><code class="sql keyword">ADD</code> <code class="sql keyword">INDEX</code> <code class="sql plain">index_name </code><code class="sql keyword">ON</code> <code class="sql plain">(</code><code class="sql keyword">column</code><code class="sql plain">(length))</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p>（3）创建表的时候同时创建索引</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
<p class="line number2 index1 alt1">2</p>
<p class="line number3 index2 alt2">3</p>
<p class="line number4 index3 alt1">4</p>
<p class="line number5 index4 alt2">5</p>
<p class="line number6 index5 alt1">6</p>
<p class="line number7 index6 alt2">7</p>
<p class="line number8 index7 alt1">8</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">CREATE</code> <code class="sql keyword">TABLE</code> <code class="sql plain">`</code><code class="sql keyword">table</code><code class="sql plain">` (</code></p>
<p class="line number2 index1 alt1"><code class="sql spaces">    </code><code class="sql plain">`id` </code><code class="sql keyword">int</code><code class="sql plain">(11) </code><code class="sql color1">NOT</code> <code class="sql color1">NULL</code> <code class="sql plain">AUTO_INCREMENT ,</code></p>
<p class="line number3 index2 alt2"><code class="sql spaces">    </code><code class="sql plain">`title` </code><code class="sql keyword">char</code><code class="sql plain">(255) </code><code class="sql keyword">CHARACTER</code> <code class="sql color1">NOT</code> <code class="sql color1">NULL</code> <code class="sql plain">,</code></p>
<p class="line number4 index3 alt1"><code class="sql spaces">    </code><code class="sql plain">`content` text </code><code class="sql keyword">CHARACTER</code> <code class="sql color1">NULL</code> <code class="sql plain">,</code></p>
<p class="line number5 index4 alt2"><code class="sql spaces">    </code><code class="sql plain">`</code><code class="sql keyword">time</code><code class="sql plain">` </code><code class="sql keyword">int</code><code class="sql plain">(10) </code><code class="sql color1">NULL</code> <code class="sql keyword">DEFAULT</code> <code class="sql color1">NULL</code> <code class="sql plain">,</code></p>
<p class="line number6 index5 alt1"><code class="sql spaces">    </code><code class="sql keyword">PRIMARY</code> <code class="sql keyword">KEY</code> <code class="sql plain">(`id`),</code></p>
<p class="line number7 index6 alt2"><code class="sql spaces">    </code><code class="sql keyword">INDEX</code> <code class="sql plain">index_name (title(length))</code></p>
<p class="line number8 index7 alt1"><code class="sql plain">)</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p>（4）删除索引</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">DROP</code> <code class="sql keyword">INDEX</code> <code class="sql plain">index_name </code><code class="sql keyword">ON</code> <code class="sql keyword">table</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p><strong>2.唯一索引</strong></p>
<p>与前面的普通索引类似，不同的就是：索引列的值必须唯一，但允许有空值。如果是组合索引，则列值的组合必须唯一。它有以下几种创建方式：</p>
<p>（1）创建唯一索引</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">CREATE</code> <code class="sql keyword">UNIQUE</code> <code class="sql keyword">INDEX</code> <code class="sql plain">indexName </code><code class="sql keyword">ON</code> <code class="sql keyword">table</code><code class="sql plain">(</code><code class="sql keyword">column</code><code class="sql plain">(length))</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p>（2）修改表结构</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">ALTER</code> <code class="sql keyword">TABLE</code> <code class="sql plain">table_name </code><code class="sql keyword">ADD</code> <code class="sql keyword">UNIQUE</code> <code class="sql plain">indexName </code><code class="sql keyword">ON</code> <code class="sql plain">(</code><code class="sql keyword">column</code><code class="sql plain">(length))</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p>（3）创建表的时候直接指定</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
<p class="line number2 index1 alt1">2</p>
<p class="line number3 index2 alt2">3</p>
<p class="line number4 index3 alt1">4</p>
<p class="line number5 index4 alt2">5</p>
<p class="line number6 index5 alt1">6</p>
<p class="line number7 index6 alt2">7</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">CREATE</code> <code class="sql keyword">TABLE</code> <code class="sql plain">`</code><code class="sql keyword">table</code><code class="sql plain">` (</code></p>
<p class="line number2 index1 alt1"><code class="sql spaces">    </code><code class="sql plain">`id` </code><code class="sql keyword">int</code><code class="sql plain">(11) </code><code class="sql color1">NOT</code> <code class="sql color1">NULL</code> <code class="sql plain">AUTO_INCREMENT ,</code></p>
<p class="line number3 index2 alt2"><code class="sql spaces">    </code><code class="sql plain">`title` </code><code class="sql keyword">char</code><code class="sql plain">(255) </code><code class="sql keyword">CHARACTER</code> <code class="sql color1">NOT</code> <code class="sql color1">NULL</code> <code class="sql plain">,</code></p>
<p class="line number4 index3 alt1"><code class="sql spaces">    </code><code class="sql plain">`content` text </code><code class="sql keyword">CHARACTER</code> <code class="sql color1">NULL</code> <code class="sql plain">,</code></p>
<p class="line number5 index4 alt2"><code class="sql spaces">    </code><code class="sql plain">`</code><code class="sql keyword">time</code><code class="sql plain">` </code><code class="sql keyword">int</code><code class="sql plain">(10) </code><code class="sql color1">NULL</code> <code class="sql keyword">DEFAULT</code> <code class="sql color1">NULL</code> <code class="sql plain">,</code></p>
<p class="line number6 index5 alt1"><code class="sql spaces">    </code><code class="sql keyword">UNIQUE</code> <code class="sql plain">indexName (title(length))</code></p>
<p class="line number7 index6 alt2"><code class="sql plain">);</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p><strong>3.主键索引</strong></p>
<p>是一种特殊的唯一索引，一个表只能有一个主键，不允许有空值。一般是在建表的时候同时创建主键索引：</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
<p class="line number2 index1 alt1">2</p>
<p class="line number3 index2 alt2">3</p>
<p class="line number4 index3 alt1">4</p>
<p class="line number5 index4 alt2">5</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">CREATE</code> <code class="sql keyword">TABLE</code> <code class="sql plain">`</code><code class="sql keyword">table</code><code class="sql plain">` (</code></p>
<p class="line number2 index1 alt1"><code class="sql spaces">    </code><code class="sql plain">`id` </code><code class="sql keyword">int</code><code class="sql plain">(11) </code><code class="sql color1">NOT</code> <code class="sql color1">NULL</code> <code class="sql plain">AUTO_INCREMENT ,</code></p>
<p class="line number3 index2 alt2"><code class="sql spaces">    </code><code class="sql plain">`title` </code><code class="sql keyword">char</code><code class="sql plain">(255) </code><code class="sql color1">NOT</code> <code class="sql color1">NULL</code> <code class="sql plain">,</code></p>
<p class="line number4 index3 alt1"><code class="sql spaces">    </code><code class="sql keyword">PRIMARY</code> <code class="sql keyword">KEY</code> <code class="sql plain">(`id`)</code></p>
<p class="line number5 index4 alt2"><code class="sql plain">);</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p><strong>4.组合索引</strong></p>
<p>指多个字段上创建的索引，只有在查询条件中使用了创建索引时的第一个字段，索引才会被使用。使用组合索引时遵循最左前缀集合</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">ALTER</code> <code class="sql keyword">TABLE</code> <code class="sql plain">`</code><code class="sql keyword">table</code><code class="sql plain">` </code><code class="sql keyword">ADD</code> <code class="sql keyword">INDEX</code> <code class="sql plain">name_city_age (</code><code class="sql keyword">name</code><code class="sql plain">,city,age);</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p><strong>5.全文索引</strong></p>
<p>主要用来查找文本中的关键字，而不是直接与索引中的值相比较。fulltext索引跟其它索引大不相同，它更像是一个搜索引擎，而不是简单的where语句的参数匹配。fulltext索引配合match against操作使用，而不是一般的where语句加like。它可以在create table，alter table ，create index使用，不过目前只有char、varchar，text 列上可以创建全文索引。值得一提的是，在数据量较大时候，现将数据放入一个没有全局索引的表中，然后再用CREATE index创建fulltext索引，要比先为一张表建立fulltext然后再将数据写入的速度快很多。</p>
<p>（1）创建表的适合添加全文索引</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
<p class="line number2 index1 alt1">2</p>
<p class="line number3 index2 alt2">3</p>
<p class="line number4 index3 alt1">4</p>
<p class="line number5 index4 alt2">5</p>
<p class="line number6 index5 alt1">6</p>
<p class="line number7 index6 alt2">7</p>
<p class="line number8 index7 alt1">8</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">CREATE</code> <code class="sql keyword">TABLE</code> <code class="sql plain">`</code><code class="sql keyword">table</code><code class="sql plain">` (</code></p>
<p class="line number2 index1 alt1"><code class="sql spaces">    </code><code class="sql plain">`id` </code><code class="sql keyword">int</code><code class="sql plain">(11) </code><code class="sql color1">NOT</code> <code class="sql color1">NULL</code> <code class="sql plain">AUTO_INCREMENT ,</code></p>
<p class="line number3 index2 alt2"><code class="sql spaces">    </code><code class="sql plain">`title` </code><code class="sql keyword">char</code><code class="sql plain">(255) </code><code class="sql keyword">CHARACTER</code> <code class="sql color1">NOT</code> <code class="sql color1">NULL</code> <code class="sql plain">,</code></p>
<p class="line number4 index3 alt1"><code class="sql spaces">    </code><code class="sql plain">`content` text </code><code class="sql keyword">CHARACTER</code> <code class="sql color1">NULL</code> <code class="sql plain">,</code></p>
<p class="line number5 index4 alt2"><code class="sql spaces">    </code><code class="sql plain">`</code><code class="sql keyword">time</code><code class="sql plain">` </code><code class="sql keyword">int</code><code class="sql plain">(10) </code><code class="sql color1">NULL</code> <code class="sql keyword">DEFAULT</code> <code class="sql color1">NULL</code> <code class="sql plain">,</code></p>
<p class="line number6 index5 alt1"><code class="sql spaces">    </code><code class="sql keyword">PRIMARY</code> <code class="sql keyword">KEY</code> <code class="sql plain">(`id`),</code></p>
<p class="line number7 index6 alt2"><code class="sql spaces">    </code><code class="sql plain">FULLTEXT (content)</code></p>
<p class="line number8 index7 alt1"><code class="sql plain">);</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p>（2）修改表结构添加全文索引</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">ALTER</code> <code class="sql keyword">TABLE</code> <code class="sql plain">article </code><code class="sql keyword">ADD</code> <code class="sql plain">FULLTEXT index_content(content)</code></p>
</div>
</td>
</tr>
</tbody>
</table>
<p>（3）直接创建索引</p>
<table class="syntaxhighlighter  sql" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gutter">
<p class="line number1 index0 alt2">1</p>
</td>
<td class="code">
<div class="container">
<p class="line number1 index0 alt2"><code class="sql keyword">CREATE</code> <code class="sql plain">FULLTEXT </code><code class="sql keyword">INDEX</code> <code class="sql plain">index_content </code><code class="sql keyword">ON</code> <code class="sql plain">article(content)</code></p>
</div>
</td>
</tr>
</tbody>
</table>
